##new project! Weather

setwd("~/Desktop/WilliamstownWeather/RStuff")

## check argument for read.table to get variable names

x <- read.table("weather.txt", header = TRUE) ##C-c C-n, C-x o

##C-x C-f to find a doc/file

library(lubridate)
library(reshape)
library(ggplot2)
y <- melt(x, id="Year")

##y$index = 1:nrow(y)

stringDates <- paste(y$variable, y$Year, 20, sep="/")
Date <- as.Date(stringDates, format="%b/%Y/%d")
y$Temperatures <- y$value
data.frame(Date, Temperatures)
qplot(Date, Temperatures, geom = "line")
months <- months(Date, abbr = TRUE)
months_fac = factor(months, levels = month.abb)
y$monthSort <- sort(months_fac)
weather1_5 <- ggplot(y, aes(months_fac, Temperatures)) + geom_boxplot()
weather1_5

##code for 2nd and 3rd graphs

weather2 <- read.table("link1.txt")
dates1 <- weather2[,1]
temps1 <- weather2[,3]
dates1Num <- as.Date(dates1, format="%Y/%m/%d")
qplot(dates1Num, temps1, geom = "line")

weather3 <- read.table("link2.txt", sep = "\t")
dates2 <- weather3[,1]
temps2 <- weather3[,2]
qplot(dates2, temps2, geom=c("point", "smooth"), method="lm", formula=y~ns(dates2,8))
library(lubridate)
library(reshape)
library(ggplot2)
library(splines)
source("loadWeather.R")
dates <- strtrim(dates2, 10)
datesO <- as.Date(dates)

p <- ggplot(weather3, aes(datesO, temps2))
p <- p + layer(geom="point")
p

x <- read.table("link1.txt")
dates1 <- x[,1]
temps1 <- x[,3]
a <- ggplot(x, aes(dates1, temps1))
a <- a + layer(geom="point")
a
